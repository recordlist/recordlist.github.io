function ajax_get(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){try{var t=JSON.parse(a.responseText)}catch(t){return void console.log(t.message+" in "+a.responseText)}e(t)}},a.open("GET",t,!0),a.send()}function loadData(t){console.log(t);let e="";for(x in t.root)for(y in e+='<h2 class="my-4" id="'+t.root[x].genreName+'">'+t.root[x].genreName.toUpperCase()+"</h2>",t.root[x].genreData){let a=t.root[x].genreData[y].id,i=t.root[x].genreData[y].img,o=t.root[x].genreData[y].productName,n=t.root[x].genreData[y].recordLabel,r=t.root[x].genreData[y].productCondition,c=t.root[x].genreData[y].productPrice,d=t.root[x].genreData[y].link;0==y?e+='<div class="row">':y%4==0&&(e+="</div>",e+='<div class="row">'),e+='<div class="col-lg-3 col-md-6 mb-4"><div class="card h-100" data-id="'+a+'"> <img class="card-img-top" src="'+i+'" alt="">  <div class="card-body">   <h6 class="card-title productName">'+o+'</h6>   <p class="card-title recordLabel">'+n+'<p>   <p class="productCondition card-text">'+r+'</p> </div> <div class="card-footer text-center">   <h6 class="productPrice"><i class="fas fa-euro-sign"></i>'+c+'</h6>   <a class="btn btn-warning" href="'+d+'"     target="_blank"><i class="fas fa-headphones"></i> Listen</a>   <button type="button" class="btn btn-success addToCart">Add to Cart</button> </div></div></div>',t.root[x].genreData.length-1==y&&(e+="</div>")}document.getElementById("cardTest").innerHTML=e,$((function(){$("#searchable-container").searchable({searchField:"#container-search",selector:".col-lg-3",childSelector:".card-title",show:function(t){t.slideDown(100)},hide:function(t){t.slideUp(100)}})})),$("body").on("click",".sendOrder",(function(){if(0===$("#tableBody").children().length)return $("#specialMsg").html("Your cart is empty!"),$("#shopingCart").modal("toggle"),$("#specialMsgBlock").modal("show"),!1;if(!validEmail($.trim($("#email").val())))return $("#noneValidEmail").text("Must be a valid email address!"),!1;var t=getBodyValues(getTBody())+"\n",e=getTFoot(),a=getFootValues(e)+"\n",i=Math.round((new Date).getTime()/1e3),o="Order Number: "+i+"\n"+t+a;$("#message").val(o),$("#subject").val("Order no.: "+i),$("#replyto").val(e[3].userEmail)})),$("body").on("click",".copyToClipboard",(function(){var t=getBodyValues(getTBody())+"\n",e=getFootValues(getTFoot())+"\n",a=$("<input>");$("tbody").append(a);var i="Order Number: "+Math.round((new Date).getTime()/1e3)+"\n"+t+e;a.val(i).select(),document.execCommand("copy"),a.remove()})),$(".nav-link, .navbar-brand, .new-button").click((function(){var t=$(this).attr("href");$("html, body").animate({scrollTop:$(t).offset().top},1500)}));var a=0,i=0;$(".addToCart").click((function(){a++;var t=$(this).closest(".card").children(".card-body").children(".productName").text(),e=$(this).closest(".card").attr("data-id"),o=$(this).closest(".card").children(".card-body").children(".productCondition ").text(),n=parseFloat($(this).closest(".card").children(".card-footer").children(".productPrice").text().replace(",",".")),r="<tr id="+e+"><td scope='row' class='itemId'>"+a+"</td><td>"+t+"</td><td class='price'><i class='fas fa-euro-sign'></i>"+n.toFixed(2).toString().replace(".",",")+"</td><td style='display:none'>"+o+"</td><td><button type='button' class='close removeItem'><span aria-hidden='true'>×</span></button></td></tr>";$("table tbody").append(r),$(".badgeItemCount").text(a);var c=getRadioValue(),d=shipping(a,c),l="<td id='cartShipping' colspan='2'><i class='fas fa-euro-sign'></i>"+d[0].toFixed(2).toString().replace(".",",")+"</td>";$("#cartShipping").replaceWith(l);var s="<div id='shippingTariff'>"+d[1]+"</div>";$("#shippingTariff").replaceWith(s);var p="<td id='cartTotal' colspan='2'><i class='fas fa-euro-sign'></i>"+calculateTotal(i+=n,d[0],"add").toFixed(2).toString().replace(".",",")+"</td>";$("#cartTotal").replaceWith(p),$(this).attr("disabled",!0)})),$("body").on("click",".removeItem",(function(){var t=parseFloat($(this).parent().siblings(".price").text().replace(",",".")),e=$(this).parent().parent().attr("id");$(this).parent().parent().remove(),a--,$(".itemId").each((function(t){$(this).html(parseInt(t)+1)})),$(".badgeItemCount").text(a);var o=getRadioValue(),n=shipping(a,o),r="<td id='cartShipping' colspan='2'><i class='fas fa-euro-sign'></i>"+n[0].toFixed(2).toString().replace(".",",")+"</td>";$("#cartShipping").replaceWith(r);var c="<div id='shippingTariff'>"+n[1]+"</div>";$("#shippingTariff").replaceWith(c);var d="<td id='cartTotal' colspan='2'><i class='fas fa-euro-sign'></i>"+calculateTotal(i-=t,n[0]).toFixed(2).toString().replace(".",",")+"</td>";$("#cartTotal").replaceWith(d),$('[data-id="'+e+'"]').children(".card-footer").children(".addToCart").attr("disabled",!1)})),$("body").on("click",'[name="shippingTo"]',(function(){$(".badgeItemCount").text(a);var t=this.value,e=shipping(a,t),o="<td id='cartShipping' colspan='2'><i class='fas fa-euro-sign'></i>"+e[0].toFixed(2).toString().replace(".",",")+"</td>";$("#cartShipping").replaceWith(o);var n="<div id='shippingTariff'>"+e[1]+"</div>";$("#shippingTariff").replaceWith(n);var r="<td id='cartTotal' colspan='2'><i class='fas fa-euro-sign'></i>"+calculateTotal(i,e[0]).toFixed(2).toString().replace(".",",")+"</td>";$("#cartTotal").replaceWith(r)}))}function validEmail(t){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)}function getFootValues(t){var e="";return $.each(t,(function(t,a){$.each(a,(function(a,i){console.log(t+"-"+a+":"+i),"shippingCost"===a?e+=" €"+i+";":"shippingTariff"===a?e+=" "+i+",":"priceTotal"===a?e+=" Total: €"+i+";":"userName"===a?e+=" User Name: "+i+";":"userEmail"===a&&(e+=" User Email: "+i+";")})),e+="\n"})),e}function getBodyValues(t){var e="";return $.each(t,(function(t,a){$.each(a,(function(t,a){"rowNo"===t?e+=a+".":"dataId"===t?e+="":"productName"===t?e+=a:"productCondition"===t?e+="("+a+"):":"price"===t&&(e+=" €"+a+";")})),e+="\n"})),e}function getTBody(){var t=new Array;return $("#cartTable tbody tr").each((function(e,a){t[e]={rowNo:$(a).find("td:eq(0)").text(),dataId:$(a).attr("id"),productName:$(a).find("td:eq(1)").text(),productCondition:$(a).find("td:eq(3)").text(),price:$(a).find("td:eq(2)").text()}})),t}function getTFoot(){var t=new Array;return $("#cartTable tfoot tr").each((function(e,a){0===e?t[e]={shippingTariff:$(a).find("#shippingTariff").text(),shippingCost:$(a).find("#cartShipping").text()}:1===e?t[e]={priceTotal:$(a).find("#cartTotal").text()}:2===e?t[e]={userName:$(a).find("#name").val()}:3===e&&(t[e]={userEmail:$(a).find("#email").val()})})),t}function calculateTotal(t,e){return t+e}function getRadioValue(){for(var t,e=document.getElementsByName("shippingTo"),a=0,i=e.length;a<i;a++)if(e[a].checked){t=e[a].value;break}return t}function shipping(t,e){var a;return"DE"===e?a=t>0&&t<=30?[5,'Shipping 1 to 30 x 12" in DE']:t>30&&t<=80?[6,'Shipping 31 to 80 x 12" in DE']:t>80?[0,'Shipping 80 and more x 12 in DE", individual pricing']:[0,""]:"EU"===e&&(a=t>0&&t<=30?[14,'Shipping 1 to 30 x 12" in EU']:t>30&&t<=80?[19,'Shipping 31 to 80 x 12 " in EU']:t>80?[0,'Shipping 80 and more x 12 in EU", individual pricing']:[0,""]),a}function onSignIn(t){var e=t.getBasicProfile();console.log("ID: "+e.getId()),console.log("Full Name: "+e.getName()),console.log("Given Name: "+e.getGivenName()),console.log("Family Name: "+e.getFamilyName()),console.log("Image URL: "+e.getImageUrl()),console.log("Email: "+e.getEmail()),$("#name").val(e.getName()),$("#email").val(e.getEmail());var a=t.getAuthResponse().id_token;console.log("ID Token: "+a)}function signOut(){gapi.auth2.getAuthInstance().signOut().then((function(){console.log("User signed out.")}))}ajax_get("js/data.json",loadData);